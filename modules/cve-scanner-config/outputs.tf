# CVE-Scanner Configuration Module Outputs
#
# Exposes secret IDs and configuration status for verification.
#

output "landscape-api-key-secret-id" {
  value       = try(juju_secret.landscape_api_key[0].secret_id, "")
  description = "Landscape API Key secret ID (empty if secrets not managed)"
  sensitive   = true
}

output "landscape-api-secret-secret-id" {
  value       = try(juju_secret.landscape_api_secret[0].secret_id, "")
  description = "Landscape API Secret secret ID (empty if secrets not managed)"
  sensitive   = true
}

output "secrets_configured" {
  value       = var.manage_secrets && var.landscape_api_key_value != "" && var.landscape_api_secret_value != ""
  description = "Whether Landscape secrets were configured via Terraform"
  sensitive   = true
}

output "snap_attached" {
  value       = var.snap_resource_path != ""
  description = "Whether snap resource was configured for attachment"
}
